{"version":3,"sources":["context/socketContext.js","context/SiteContext.js","LandingPage.js","LoginPage.js","RegisterPage.js","App.js","reportWebVitals.js","index.js"],"names":["socket","io","SocketContext","createContext","SocketContextProvider","children","Provider","value","SiteContext","SiteContextProvider","useState","user","setUser","seeIfLoggedIn","useCallback","fetch","then","res","json","data","code","catch","err","console","log","useEffect","LandingPage","useContext","history","useHistory","onClick","success","push","LoginPage","username","setUsername","pass","setPass","to","className","onSubmit","e","preventDefault","method","headers","body","JSON","stringify","password","alert","onChange","target","type","placeholder","required","Register","name","setName","email","setEmail","field","autoComplete","resizeWindow","vh","window","innerHeight","document","style","setProperty","PrivateRoute","rest","render","location","pathname","state","from","App","addEventListener","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"6OAGMA,EAASC,MACFC,EAAgBC,0BAEhBC,EAAwB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACtC,OACE,cAACH,EAAcI,SAAf,CAAwBC,MAAO,CAAEP,UAAjC,SACGK,K,QCPMG,EAAcL,0BACdM,EAAsB,SAAC,GAAkB,IAAhBJ,EAAe,EAAfA,SAAe,EAC3BK,mBAAS,MADkB,mBAC5CC,EAD4C,KACtCC,EADsC,KAE7CC,EAAgBC,uBAAY,WAChCC,MAAM,iBACHC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACa,OAAdA,EAAKC,MACPR,EAAQO,EAAKR,SAGhBU,OAAM,SAACC,GACNC,QAAQC,IAAI,sBAEf,IAEH,OADAC,oBAAUZ,EAAe,IAEvB,cAACL,EAAYF,SAAb,CACEC,MAAO,CACLI,OACAC,WAHJ,SAMGP,K,eCIQqB,EAzBK,WAAO,IACjBd,EAAYe,qBAAWnB,GAAvBI,QACFgB,EAAUC,cAChB,OACE,gCACE,8CACA,0CACA,wBACEC,QAAS,WACPP,QAAQC,IAAI,cACZT,MAAM,eACHC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,YAAwB,IAArBL,EAAoB,EAApBA,KAAoB,EAAdoB,UAEXnB,EAAQD,GACRiB,EAAQI,KAAK,eARvB,wB,QC8CSC,EArDG,WAChB,IAAML,EAAUC,cADM,EAEIF,qBAAWnB,GAA7BG,EAFc,EAEdA,KAAMC,EAFQ,EAERA,QAFQ,EAGUF,mBAAS,IAHnB,mBAGfwB,EAHe,KAGLC,EAHK,OAIEzB,mBAAS,IAJX,mBAIf0B,EAJe,KAITC,EAJS,KAKtB,OAAI1B,EACK,cAAC,IAAD,CAAU2B,GAAG,MAGpB,sBAAKC,UAAU,YAAf,UACE,uBACEC,SAAU,SAACC,GACTA,EAAEC,iBACF3B,MAAM,aAAc,CAClB4B,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEb,WAAUc,SAAUZ,MAE1CpB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,YAAqB,IAAlBI,EAAiB,EAAjBA,KAAMT,EAAW,EAAXA,KACA,OAATS,GACFR,EAAQD,GACRiB,EAAQI,KAAK,MAEbiB,MAAM,sCAGT5B,OAAM,SAACC,GACN2B,MAAM,wBACN1B,QAAQC,IAAIF,OAnBpB,UAuBE,uBACE4B,SAAU,SAACT,GAAD,OAAON,EAAYM,EAAEU,OAAO5C,QACtCA,MAAO2B,EACPkB,KAAK,OACLC,YAAY,WACZC,UAAU,IAEZ,uBACEJ,SAAU,SAACT,GAAD,OAAOJ,EAAQI,EAAEU,OAAO5C,QAClCA,MAAO6B,EACPgB,KAAK,WACLC,YAAY,WACZC,UAAU,IAEZ,wBAAQF,KAAK,SAAb,sBAEF,cAAC,IAAD,CAAMd,GAAG,YAAT,0BCuBSiB,EAxEE,WACf,IAAM3B,EAAUC,cACRjB,EAAYe,qBAAWnB,GAAvBI,QAFa,EAGGF,mBAAS,IAHZ,mBAGd8C,EAHc,KAGRC,EAHQ,OAIW/C,mBAAS,IAJpB,mBAIdwB,EAJc,KAIJC,EAJI,OAKKzB,mBAAS,IALd,mBAKdgD,EALc,KAKPC,EALO,OAMGjD,mBAAS,IANZ,mBAMd0B,EANc,KAMRC,EANQ,KAOrB,OACE,gCACE,uBACEG,SAAU,SAACC,GACTA,EAAEC,iBACF3B,MAAM,gBAAiB,CACrB4B,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAES,OAAMtB,WAAUwB,QAAOtB,WAE7CpB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,YAA4B,IAAzBI,EAAwB,EAAxBA,KAAMT,EAAkB,EAAlBA,KAAMiD,EAAY,EAAZA,MACN,OAATxC,GACFR,EAAQD,GACRiB,EAAQI,KAAK,MACK,OAATZ,EACT6B,MAAM,GAAD,OAAIW,EAAJ,YAELX,MAAM,2BAGT5B,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZ2B,MAAM,4BAGZY,aAAa,MAxBf,UA0BE,uBACEX,SAAU,SAACT,GAAD,OAAON,EAAYM,EAAEU,OAAO5C,QACtCA,MAAO2B,EACPkB,KAAK,OACLC,YAAY,WACZC,UAAU,EACVO,aAAa,QAEf,uBACEX,SAAU,SAACT,GAAD,OAAOgB,EAAQhB,EAAEU,OAAO5C,QAClCA,MAAOiD,EACPJ,KAAK,OACLC,YAAY,OACZC,UAAU,IAEZ,uBACEJ,SAAU,SAACT,GAAD,OAAOkB,EAASlB,EAAEU,OAAO5C,QACnCA,MAAOmD,EACPN,KAAK,QACLC,YAAY,QACZC,UAAU,IAEZ,uBACEJ,SAAU,SAACT,GAAD,OAAOJ,EAAQI,EAAEU,OAAO5C,QAClCA,MAAO6B,EACPgB,KAAK,WACLC,YAAY,WACZC,UAAU,EACVO,aAAa,iBAEf,wBAAQT,KAAK,SAAb,yBAEF,cAAC,IAAD,CAAMd,GAAG,SAAT,uBCzDN,SAASwB,IACP,IAAIC,EAA0B,IAArBC,OAAOC,YAChBC,SAASrB,KAAKsB,MAAMC,YAAY,OAAhC,UAA2CL,EAA3C,OAGF,SAASM,EAAT,GAA8C,IAAtBhE,EAAqB,EAArBA,SAAaiE,EAAQ,4BACnC3D,EAASgB,qBAAWnB,GAApBG,KACR,OACE,cAAC,IAAD,2BACM2D,GADN,IAEEC,OAAQ,gBAAGC,EAAH,EAAGA,SAAH,OACN7D,EACEN,EAEA,cAAC,IAAD,CACEiC,GAAI,CACFmC,SAAU,SACVC,MAAO,CAAEC,KAAMH,UA+BdI,MAtBf,WAKE,OAJAnD,qBAAU,WACRuC,OAAOa,iBAAiB,UAAU,kBAAMf,OACxCA,MACC,IAED,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOgB,KAAK,SAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,YAAZ,SACE,cAAC,EAAD,MAEF,cAACT,EAAD,CAAcS,KAAK,IAAnB,SACE,cAAC,EAAD,YC3CKC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBjE,MAAK,YAAkD,IAA/CkE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCCdO,IAAShB,OACP,cAAC,IAAMiB,WAAP,UACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,UAINtB,SAASuB,eAAe,SAM1BV,M","file":"static/js/main.a31beece.chunk.js","sourcesContent":["import { createContext } from \"react\";\nimport io from \"socket.io-client\";\n\nconst socket = io();\nexport const SocketContext = createContext();\n\nexport const SocketContextProvider = ({ children }) => {\n  return (\n    <SocketContext.Provider value={{ socket }}>\n      {children}\n    </SocketContext.Provider>\n  );\n};\n","import { createContext, useState, useEffect, useCallback } from \"react\";\n\nexport const SiteContext = createContext();\nexport const SiteContextProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const seeIfLoggedIn = useCallback(() => {\n    fetch(\"/api/authUser\")\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setUser(data.user);\n        }\n      })\n      .catch((err) => {\n        console.log(\"not logged in\");\n      });\n  }, []);\n  useEffect(seeIfLoggedIn, []);\n  return (\n    <SiteContext.Provider\n      value={{\n        user,\n        setUser,\n      }}\n    >\n      {children}\n    </SiteContext.Provider>\n  );\n};\n","import { useContext } from \"react\";\nimport { SiteContext } from \"./context/SiteContext\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nconst LandingPage = () => {\n  const { setUser } = useContext(SiteContext);\n  const history = useHistory();\n  return (\n    <div>\n      <h1>Landing Page</h1>\n      <p>logged in</p>\n      <button\n        onClick={() => {\n          console.log(\"loging out\");\n          fetch(\"/api/logout\")\n            .then((res) => res.json())\n            .then(({ user, success }) => {\n              if (success) {\n                setUser(user);\n                history.push(\"/login\");\n              }\n            });\n        }}\n      >\n        logout\n      </button>\n    </div>\n  );\n};\nexport default LandingPage;\n","import { useState, useEffect, useContext, useCallback } from \"react\";\nimport { SiteContext } from \"./context/SiteContext\";\nimport { Link, useHistory, Redirect } from \"react-router-dom\";\n\nconst LoginPage = () => {\n  const history = useHistory();\n  const { user, setUser } = useContext(SiteContext);\n  const [username, setUsername] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  if (user) {\n    return <Redirect to=\"/\" />;\n  }\n  return (\n    <div className=\"container\">\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          fetch(\"/api/login\", {\n            method: \"POST\",\n            headers: { \"Content-type\": \"application/json\" },\n            body: JSON.stringify({ username, password: pass }),\n          })\n            .then((res) => res.json())\n            .then(({ code, user }) => {\n              if (code === \"ok\") {\n                setUser(user);\n                history.push(\"/\");\n              } else {\n                alert(\"username/password did not match\");\n              }\n            })\n            .catch((err) => {\n              alert(\"something went wrong\");\n              console.log(err);\n            });\n        }}\n      >\n        <input\n          onChange={(e) => setUsername(e.target.value)}\n          value={username}\n          type=\"text\"\n          placeholder=\"username\"\n          required={true}\n        />\n        <input\n          onChange={(e) => setPass(e.target.value)}\n          value={pass}\n          type=\"password\"\n          placeholder=\"password\"\n          required={true}\n        />\n        <button type=\"submit\">Login</button>\n      </form>\n      <Link to=\"/register\">Register</Link>\n    </div>\n  );\n};\nexport default LoginPage;\n","import { useState, useContext } from \"react\";\nimport { SiteContext } from \"./context/SiteContext\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nconst Register = () => {\n  const history = useHistory();\n  const { setUser } = useContext(SiteContext);\n  const [name, setName] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  return (\n    <div>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          fetch(\"/api/register\", {\n            method: \"POST\",\n            headers: { \"Content-type\": \"application/json\" },\n            body: JSON.stringify({ name, username, email, pass }),\n          })\n            .then((res) => res.json())\n            .then(({ code, user, field }) => {\n              if (code === \"ok\") {\n                setUser(user);\n                history.push(\"/\");\n              } else if (code === 11000) {\n                alert(`${field} exists`);\n              } else {\n                alert(\"something went wrong\");\n              }\n            })\n            .catch((err) => {\n              console.log(err);\n              alert(\"something went wrong\");\n            });\n        }}\n        autoComplete=\"off\"\n      >\n        <input\n          onChange={(e) => setUsername(e.target.value)}\n          value={username}\n          type=\"text\"\n          placeholder=\"username\"\n          required={true}\n          autoComplete=\"off\"\n        />\n        <input\n          onChange={(e) => setName(e.target.value)}\n          value={name}\n          type=\"text\"\n          placeholder=\"name\"\n          required={true}\n        />\n        <input\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n          type=\"email\"\n          placeholder=\"email\"\n          required={true}\n        />\n        <input\n          onChange={(e) => setPass(e.target.value)}\n          value={pass}\n          type=\"password\"\n          placeholder=\"password\"\n          required={true}\n          autoComplete=\"new-password\"\n        />\n        <button type=\"submit\">Register</button>\n      </form>\n      <Link to=\"/login\">Login</Link>\n    </div>\n  );\n};\n\nexport default Register;\n","import { useState, useEffect, useRef, useContext } from \"react\";\nimport { SocketContext } from \"./context/socketContext\";\nimport { SiteContext } from \"./context/SiteContext\";\nimport \"./App.scss\";\nimport LandingPage from \"./LandingPage\";\nimport LoginPage from \"./LoginPage\";\nimport Register from \"./RegisterPage\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from \"react-router-dom\";\n\nfunction resizeWindow() {\n  let vh = window.innerHeight * 0.01;\n  document.body.style.setProperty(\"--vh\", `${vh}px`);\n}\n\nfunction PrivateRoute({ children, ...rest }) {\n  const { user } = useContext(SiteContext);\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        user ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n\nfunction App() {\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => resizeWindow());\n    resizeWindow();\n  }, []);\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/login\">\n          <LoginPage />\n        </Route>\n        <Route path=\"/register\">\n          <Register />\n        </Route>\n        <PrivateRoute path=\"/\">\n          <LandingPage />\n        </PrivateRoute>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport { SocketContextProvider } from \"./context/socketContext\";\nimport { SiteContextProvider } from \"./context/SiteContext\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <SiteContextProvider>\n      <SocketContextProvider>\n        <App />\n      </SocketContextProvider>\n    </SiteContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}